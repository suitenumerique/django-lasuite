"""Module contains the dummy backend for the malware detection system."""

from django.utils.module_loading import import_string

from ..enums import ReportStatus
from .base import BaseBackend


class DummyBackend(BaseBackend):
    """A dummy backend that does nothing."""

    def __init__(self, callback_path: str):
        """Initialize the dummy backend."""
        self.callback_path = callback_path

    def analyse_file(self, file_path: str, **kwargs) -> None:
        """Analyse a file and call the callback with the result."""
        callback = import_string(self.callback_path)
        if callback:
            callback(file_path, ReportStatus.SAFE, error_info={}, **kwargs)
